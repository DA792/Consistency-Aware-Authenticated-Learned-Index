# å¤§è§„æ¨¡äºŒç»´ç©ºé—´æ•°æ®é›†

## ğŸ“¦ æ•°æ®é›†åˆ—è¡¨

### å‡åŒ€åˆ†å¸ƒæ•°æ®é›†

| æ–‡ä»¶å | æ•°æ®ç‚¹æ•° | åˆ†å¸ƒç±»å‹ | åæ ‡èŒƒå›´ | æ–‡ä»¶å¤§å°(çº¦) |
|--------|---------|---------|---------|------------|
| `uniform_500k.csv` | 50ä¸‡ | å‡åŒ€åˆ†å¸ƒ | [0, 999999] Ã— [0, 999999] | ~10 MB |
| `uniform_750k.csv` | 75ä¸‡ | å‡åŒ€åˆ†å¸ƒ | [0, 999999] Ã— [0, 999999] | ~15 MB |
| `uniform_1000k.csv` | 100ä¸‡ | å‡åŒ€åˆ†å¸ƒ | [0, 999999] Ã— [0, 999999] | ~20 MB |

### ç‰¹æ®Šåˆ†å¸ƒæ•°æ®é›†

| æ–‡ä»¶å | æ•°æ®ç‚¹æ•° | åˆ†å¸ƒç±»å‹ | ç‰¹ç‚¹ |
|--------|---------|---------|------|
| `gaussian_1000k.csv` | 100ä¸‡ | é«˜æ–¯åˆ†å¸ƒ | ä¸­å¿ƒèšé›†,è¾¹ç¼˜ç¨€ç– |
| `clustered_1000k.csv` | 100ä¸‡ | ç°‡çŠ¶åˆ†å¸ƒ | 10ä¸ªç°‡,æ¨¡æ‹ŸçœŸå®åœºæ™¯ |

## ğŸš€ å¦‚ä½•ç”Ÿæˆæ•°æ®é›†

### æ–¹æ³•1: ä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ (æ¨è)

```batch
generate_datasets.bat
```

è¿™ä¼šè‡ªåŠ¨ç”Ÿæˆæ‰€æœ‰5ä¸ªæ•°æ®é›†ã€‚

### æ–¹æ³•2: æ‰‹åŠ¨ç¼–è¯‘è¿è¡Œ

```batch
cd Consistency-Aware-Authenticated-Learned-Index

# ç¼–è¯‘
javac -encoding UTF-8 -cp "jars/*" -d bin src/utils/DataGenerator.java src/utils/Point2D.java

# è¿è¡Œ
java -cp "jars/*;bin" utils.DataGenerator
```

## ğŸ“Š æ•°æ®æ ¼å¼

æ‰€æœ‰æ•°æ®é›†éƒ½æ˜¯CSVæ ¼å¼:

```csv
x,y
123456,789012
234567,890123
...
```

- **ç¬¬ä¸€è¡Œ**: åˆ—å (x,y)
- **åç»­è¡Œ**: æ•°æ®ç‚¹åæ ‡ (xåæ ‡,yåæ ‡)

## â±ï¸ ç”Ÿæˆæ—¶é—´

| æ•°æ®é›† | é¢„è®¡ç”Ÿæˆæ—¶é—´ |
|--------|------------|
| 50ä¸‡ç‚¹ | ~10-20ç§’ |
| 75ä¸‡ç‚¹ | ~15-30ç§’ |
| 100ä¸‡ç‚¹ | ~20-40ç§’ |
| å…¨éƒ¨5ä¸ª | ~1-2åˆ†é’Ÿ |

*æ—¶é—´å–å†³äºæ‚¨çš„ç¡¬ç›˜é€Ÿåº¦*

## ğŸ¯ æ•°æ®åˆ†å¸ƒè¯´æ˜

### 1. å‡åŒ€åˆ†å¸ƒ (Uniform)

```
ç‰¹ç‚¹: æ•°æ®ç‚¹åœ¨æ•´ä¸ªç©ºé—´ä¸­å‡åŒ€åˆ†å¸ƒ
é€‚ç”¨: æµ‹è¯•ç´¢å¼•çš„å¹³å‡æ€§èƒ½
```

### 2. é«˜æ–¯åˆ†å¸ƒ (Gaussian)

```
ç‰¹ç‚¹: æ•°æ®ç‚¹é›†ä¸­åœ¨ä¸­å¿ƒåŒºåŸŸ,å‘ˆæ­£æ€åˆ†å¸ƒ
ä¸­å¿ƒ: (500000, 500000)
æ ‡å‡†å·®: 150000
é€‚ç”¨: æµ‹è¯•æ•°æ®å¯†é›†åŒºåŸŸçš„æ€§èƒ½
```

### 3. ç°‡çŠ¶åˆ†å¸ƒ (Clustered)

```
ç‰¹ç‚¹: æ•°æ®ç‚¹åˆ†æˆ10ä¸ªç°‡,æ¯ä¸ªç°‡å†…éƒ¨å¯†é›†
ç°‡æ•°: 10ä¸ª
é€‚ç”¨: æ¨¡æ‹ŸçœŸå®åœºæ™¯ (å¦‚åŸå¸‚POIåˆ†å¸ƒ)
```

## ğŸ“ˆ ä½¿ç”¨æ•°æ®é›†è¿›è¡Œæµ‹è¯•

### æµ‹è¯•50ä¸‡ç‚¹æ•°æ®é›†

```java
String dataPath = "src/data/uniform_500k.csv";
int loadCount = 500000;
List<Point2D> points = DataLoader.loadFromCSV(dataPath, loadCount);

Spatial2DPVLTree tree = new Spatial2DPVLTree(points, 64);
```

### æµ‹è¯•100ä¸‡ç‚¹æ•°æ®é›†

```java
String dataPath = "src/data/uniform_1000k.csv";
int loadCount = 1000000;
List<Point2D> points = DataLoader.loadFromCSV(dataPath, loadCount);

Spatial2DPVLTree tree = new Spatial2DPVLTree(points, 128);  // æ›´å¤§çš„err
```

## ğŸ’¡ æ€§èƒ½å»ºè®®

### ä¸åŒæ•°æ®è§„æ¨¡çš„æ¨èé…ç½®

| æ•°æ®ç‚¹æ•° | æ¨èerr | é¢„æœŸæ„å»ºæ—¶é—´ | é¢„æœŸæŸ¥è¯¢æ—¶é—´ |
|---------|---------|------------|------------|
| 50ä¸‡ | 64 | ~3-5ç§’ | ~5-10 ms |
| 75ä¸‡ | 64-128 | ~5-8ç§’ | ~8-15 ms |
| 100ä¸‡ | 128 | ~8-12ç§’ | ~10-20 ms |

### ä¼˜åŒ–å»ºè®®

**å¯¹äºå¤§è§„æ¨¡æ•°æ®é›† (â‰¥50ä¸‡ç‚¹)**:

1. **å¢å¤§è¯¯å·®ç•Œé™**
   ```java
   int err = 128;  // æˆ–æ›´å¤§
   ```

2. **å‡å°‘ZåŒºé—´æ•°é‡**
   ```java
   // ZOrderDecomposition.java å·²ä¼˜åŒ–
   if (level >= 10 || (zEnd - zStart) <= 1) {
   ```

3. **å¢åŠ å†…å­˜**
   ```batch
   java -Xmx4g -cp "jars/*;bin" ...
   ```

## ğŸ” éªŒè¯æ•°æ®é›†

ç”Ÿæˆå,å¯ä»¥æ£€æŸ¥æ•°æ®é›†:

```java
// åŠ è½½å¹¶åˆ†ææ•°æ®
List<Point2D> points = DataLoader.loadFromCSV("src/data/uniform_1000k.csv", 1000000);
DataLoader.DataStats stats = DataLoader.analyzeData(points);
System.out.println(stats);
```

è¾“å‡ºç¤ºä¾‹:
```
æ•°æ®ç»Ÿè®¡: 1000000 ä¸ªç‚¹
XèŒƒå›´: [0, 999999]
YèŒƒå›´: [0, 999999]
```

## ğŸ“ æ–‡ä»¶ä½ç½®

æ‰€æœ‰æ•°æ®é›†ä¿å­˜åœ¨:
```
Consistency-Aware-Authenticated-Learned-Index/
  â””â”€â”€ src/
      â””â”€â”€ data/
          â”œâ”€â”€ uniform_500k.csv
          â”œâ”€â”€ uniform_750k.csv
          â”œâ”€â”€ uniform_1000k.csv
          â”œâ”€â”€ gaussian_1000k.csv
          â””â”€â”€ clustered_1000k.csv
```

## ğŸ‰ å¼€å§‹ä½¿ç”¨

1. **ç”Ÿæˆæ•°æ®é›†**:
   ```batch
   generate_datasets.bat
   ```

2. **ç­‰å¾…å®Œæˆ** (çº¦1-2åˆ†é’Ÿ)

3. **ä½¿ç”¨æ•°æ®é›†æµ‹è¯•**:
   ```batch
   # ä¿®æ”¹æµ‹è¯•ä»£ç ä½¿ç”¨æ–°æ•°æ®é›†
   # ç„¶åè¿è¡Œ
   run_2d_pvl_test.bat
   ```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç£ç›˜ç©ºé—´**: ç¡®ä¿æœ‰è‡³å°‘ 100 MB çš„å¯ç”¨ç©ºé—´
2. **å†…å­˜**: åŠ è½½100ä¸‡ç‚¹éœ€è¦çº¦ 200-300 MB å†…å­˜
3. **ç”Ÿæˆæ—¶é—´**: é¦–æ¬¡ç”Ÿæˆå¯èƒ½è¾ƒæ…¢,è¯·è€å¿ƒç­‰å¾…
4. **éšæœºç§å­**: ä½¿ç”¨å›ºå®šç§å­(42),ä¿è¯æ•°æ®å¯é‡å¤ç”Ÿæˆ

## ğŸ”§ è‡ªå®šä¹‰æ•°æ®é›†

å¦‚æœéœ€è¦è‡ªå®šä¹‰æ•°æ®é›†,å¯ä»¥ä¿®æ”¹ `DataGenerator.java`:

```java
// è‡ªå®šä¹‰æ•°æ®ç‚¹æ•°é‡
generateUniformData(2000000, 999999, 999999, "src/data/custom_2000k.csv");

// è‡ªå®šä¹‰åæ ‡èŒƒå›´
generateUniformData(1000000, 1000000, 1000000, "src/data/custom_range.csv");

// è‡ªå®šä¹‰ç°‡æ•°é‡
generateClusteredData(1000000, 20, 999999, 999999, "src/data/custom_20clusters.csv");
```

## ğŸ“Š æ€§èƒ½åŸºå‡†æµ‹è¯•

ä½¿ç”¨è¿™äº›æ•°æ®é›†è¿›è¡Œæ€§èƒ½æµ‹è¯•,å¯ä»¥è¯„ä¼°:

- âœ… ç´¢å¼•æ„å»ºæ—¶é—´
- âœ… æŸ¥è¯¢å“åº”æ—¶é—´
- âœ… éªŒè¯æ—¶é—´
- âœ… VOå¤§å°
- âœ… å†…å­˜å ç”¨
- âœ… å¯æ‰©å±•æ€§

ç¥æµ‹è¯•é¡ºåˆ©! ğŸš€









