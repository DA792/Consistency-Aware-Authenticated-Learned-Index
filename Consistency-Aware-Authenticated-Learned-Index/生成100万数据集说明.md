# ç”Ÿæˆ100ä¸‡ç‚¹æ•°æ®é›†

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®ç”Ÿæˆ

```batch
generate_datasets.bat
```

## ğŸ“Š æ•°æ®é›†ä¿¡æ¯

### ç”Ÿæˆçš„æ•°æ®é›†

- **æ–‡ä»¶å**: `uniform_1000k.csv`
- **æ•°æ®ç‚¹æ•°**: 1,000,000 (100ä¸‡)
- **åˆ†å¸ƒç±»å‹**: å‡åŒ€åˆ†å¸ƒ
- **åæ ‡èŒƒå›´**: X [0, 999999], Y [0, 999999]
- **æ–‡ä»¶å¤§å°**: çº¦ 20 MB
- **ç”Ÿæˆæ—¶é—´**: 20-40ç§’

### æ•°æ®æ ¼å¼

```csv
x,y
123456,789012
234567,890123
345678,901234
...
```

## ğŸ“ æ–‡ä»¶ä½ç½®

```
Consistency-Aware-Authenticated-Learned-Index/
  â””â”€â”€ src/
      â””â”€â”€ data/
          â””â”€â”€ uniform_1000k.csv  â† ç”Ÿæˆåœ¨è¿™é‡Œ
```

## ğŸ”§ å¦‚ä½•ä½¿ç”¨

### 1. ç”Ÿæˆæ•°æ®é›†

```batch
generate_datasets.bat
```

### 2. ä¿®æ”¹æµ‹è¯•ä»£ç 

ç¼–è¾‘ `Spatial2DPVLTree.java` ç¬¬ 188-189 è¡Œ:

```java
// ä¿®æ”¹æ•°æ®è·¯å¾„å’ŒåŠ è½½æ•°é‡
String dataPath = "src/data/uniform_1000k.csv";
int loadCount = 1000000;
```

### 3. è°ƒæ•´å‚æ•° (é‡è¦!)

å¯¹äº100ä¸‡æ•°æ®,å»ºè®®å¢å¤§è¯¯å·®ç•Œé™:

```java
// ç¬¬ 204 è¡Œ
int err = 128;  // ä»64æ”¹ä¸º128,é€‚åˆå¤§æ•°æ®é›†
```

### 4. è¿è¡Œæµ‹è¯•

```batch
run_2d_pvl_test.bat
```

## ğŸ’¡ æ€§èƒ½å»ºè®®

### æ¨èé…ç½® (100ä¸‡ç‚¹)

```java
// Spatial2DPVLTree.java
int err = 128;  // è¯¯å·®ç•Œé™

// ZOrderDecomposition.java (å·²ä¼˜åŒ–)
if (level >= 10 || (zEnd - zStart) <= 1) {
```

### é¢„æœŸæ€§èƒ½

| æŒ‡æ ‡ | é¢„æœŸå€¼ |
|------|--------|
| æ„å»ºæ—¶é—´ | 8-15ç§’ |
| æŸ¥è¯¢æ—¶é—´ (é€‰æ‹©æ€§0.02) | 10-20 ms |
| éªŒè¯æ—¶é—´ (é€‰æ‹©æ€§0.02) | 30-50 ms |
| å†…å­˜å ç”¨ | 200-300 MB |

### å¦‚æœæ€§èƒ½ä¸å¤Ÿ

å¯ä»¥è¿›ä¸€æ­¥å¢å¤§è¯¯å·®ç•Œé™:

```java
int err = 256;  // æ›´æ¿€è¿›çš„ä¼˜åŒ–
```

æˆ–è€…å‡å°‘ZåŒºé—´é€’å½’æ·±åº¦:

```java
// ZOrderDecomposition.java ç¬¬58è¡Œ
if (level >= 8 || (zEnd - zStart) <= 1) {  // ä»10æ”¹ä¸º8
```

## âš™ï¸ å†…å­˜è®¾ç½®

å¯¹äº100ä¸‡ç‚¹æ•°æ®,å»ºè®®å¢åŠ JVMå†…å­˜:

```batch
java -Xmx2g -cp "jars/*;bin" index.spatial_2d_pvl.Spatial2DPVLTree
```

å¯ä»¥ä¿®æ”¹ `run_2d_pvl_test.bat`:

```batch
java -Xmx2g -cp "jars/*;bin" index.spatial_2d_pvl.Spatial2DPVLTree
```

## ğŸ“ˆ æµ‹è¯•æµç¨‹

### å®Œæ•´æµ‹è¯•æ­¥éª¤

1. **ç”Ÿæˆæ•°æ®é›†** (åªéœ€ä¸€æ¬¡)
   ```batch
   generate_datasets.bat
   ```

2. **ä¿®æ”¹æµ‹è¯•ä»£ç **
   - æ•°æ®è·¯å¾„: `uniform_1000k.csv`
   - åŠ è½½æ•°é‡: `1000000`
   - è¯¯å·®ç•Œé™: `128`

3. **è¿è¡Œæµ‹è¯•**
   ```batch
   run_2d_pvl_test.bat
   ```

4. **æŸ¥çœ‹ç»“æœ**
   - æ„å»ºæ—¶é—´
   - æŸ¥è¯¢æ—¶é—´
   - ZåŒºé—´æ•°
   - VOå¤§å°

## ğŸ¯ é¢„æœŸæµ‹è¯•ç»“æœ

### ä¼˜åŒ–åçš„æ€§èƒ½ (err=128, levelâ‰¥10)

```
é€‰æ‹©æ€§ 0.02:
- ZåŒºé—´æ•°: 700-1000 (ä¼˜åŒ–å‰: 2811)
- æŸ¥è¯¢æ—¶é—´: ~2-3 ms
- éªŒè¯æ—¶é—´: ~8-12 ms
- æ€»æ—¶é—´: ~10-15 ms
- VOå¤§å°: ~800-1200 KB
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç£ç›˜ç©ºé—´**: ç¡®ä¿æœ‰è‡³å°‘ 50 MB å¯ç”¨ç©ºé—´
2. **å†…å­˜**: éœ€è¦è‡³å°‘ 1 GB å¯ç”¨å†…å­˜
3. **ç”Ÿæˆæ—¶é—´**: é¦–æ¬¡ç”Ÿæˆéœ€è¦ 20-40ç§’,è¯·è€å¿ƒç­‰å¾…
4. **è¿›åº¦æ˜¾ç¤º**: æ¯ç”Ÿæˆ10ä¸‡ç‚¹ä¼šæ˜¾ç¤ºè¿›åº¦

## ğŸ” éªŒè¯æ•°æ®é›†

ç”Ÿæˆåå¯ä»¥éªŒè¯:

```java
List<Point2D> points = DataLoader.loadFromCSV("src/data/uniform_1000k.csv", 1000000);
System.out.println("æˆåŠŸåŠ è½½: " + points.size() + " ä¸ªç‚¹");

DataLoader.DataStats stats = DataLoader.analyzeData(points);
System.out.println(stats);
```

é¢„æœŸè¾“å‡º:
```
æˆåŠŸåŠ è½½: 1000000 ä¸ªç‚¹
æ•°æ®ç»Ÿè®¡: 1000000 ä¸ªç‚¹
XèŒƒå›´: [0, 999999]
YèŒƒå›´: [0, 999999]
```

## ğŸš€ å¼€å§‹ç”Ÿæˆ

ç°åœ¨è¿è¡Œ:

```batch
generate_datasets.bat
```

ç­‰å¾…20-40ç§’,æ•°æ®é›†å°±ç”Ÿæˆå¥½äº†! ğŸ‰









